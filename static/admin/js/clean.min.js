"use strict";$(function(s){var t=s(".file-item");s("#all").on("click",function(){t.addClass("selected")});var l,a,i,n,o=0,c=!1;t.on("click",function(e){(l=s(this)).toggleClass("selected"),a=l.index(),i=l.hasClass("selected"),n=a-o,e.shiftKey&&1<Math.abs(n)&&c===i&&(0<n?t.slice(o+1,a):t.slice(a+1,o)).toggleClass("selected",i),o=a,c=i})}),$(function(l){var a=l("#remove"),i=Base.url(CONTROLLER,"del");a.on("click",function(){var t=l(".file-item.selected").toArray();0!==t.length?confirm("文件删除后内容将无法恢复，\n你确定要删除选中的 "+t.length+" 个文件吗？")&&(a.prop("disabled",!0).addClass("progress"),function e(){if(t.length){var s=t.shift();l.ajax(i,{type:"POST",dataType:"JSON",data:{file:s.getAttribute("data-file")}}).always(function(){e()}).done(function(e){e.code&&s.remove()})}else a.prop("disabled",!1).removeClass("progress")}()):showError("请选择你要删除的数据")})});