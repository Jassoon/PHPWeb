"use strict";$(function(o){o("li.item").each(function(e,n){var t=o(n),c=t.find(":checkbox");t.find("span").on("click",function(){var e=c.filter(":checked").length<c.length;c.prop("checked",e)})});var e=o(":checkbox");o("#checkAll").on("click",function(){e.prop("checked",!0)}),o("#inverse").on("click",function(){e.prop("checked",function(){return!this.checked})}),o("#deselect").on("click",function(){e.prop("checked",!1)}),o.validator.addMethod("pattern",function(e,n,t){return!!this.optional(n)||("string"==typeof t&&(t=new RegExp("^(?:"+t+")$")),t.test(e))},"无效格式"),o("#userForm").validate({rules:{name:{required:!0},account:{minlength:4,pattern:"^[A-Za-z0-9.]{4,16}$",remote:REMOTE_URL},password:{minlength:4,pattern:"^[A-Za-z0-9.]{4,16}$"}},messages:{account:{minlength:"长度不能少于4个字符",pattern:"格式错误，帐号只能为数字和字母",remote:"此帐号已使用"},password:{minlength:"长度不能少于4个字符",pattern:"格式错误，密码只能为数字和字母"}},submitHandler:function(e){o.post(e.action,o(e).serialize(),function(e){e.code?(o.cookie("serverMessage",e.msg,{path:BASE_URL}),location.href=Base.url(CONTROLLER)):showError(e.msg)})}})});