"use strict";$(function(s){s("#form").on("submit",function(r){r.preventDefault();var t=this.elements.old;if(!t.value)return showError("请输入原密码"),t.focus(),!1;if(!new RegExp(t.getAttribute("pattern")).test(t.value))return showError("原密码格式错误"),t.focus(),!1;var e=this.elements.password;if(!e.value)return showError("请输入新密码"),e.focus(),!1;if(!new RegExp(e.getAttribute("pattern")).test(e.value))return showError("新密码格式错误"),e.focus(),!1;var o={old:t.value,password:e.value};s.post(this.action,o,function(r){r.code?(alert(r.msg),window.location.replace(LOGIN_URL)):showError(r.msg)},"json")})});